# Copyright 2021 Canonical Ltd.
# See LICENSE file for licensing details.
name: grafana-k8s
display-name: Grafana
summary: Data visualization and observability with Grafana
docs: https://discourse.charmhub.io/t/grafana-operator-k8s-docs-index/5612
maintainers:
  - Ryan Barry <ryan.barry@canonical.com>
description: |
  Grafana provides dashboards for monitoring data and this
  charm is written to allow for HA on Kubernetes and can take
  multiple data sources (for example, Prometheus).
tags:
  - observability
  - lma
  - monitoring
  - grafana
  - prometheus
containers:
  grafana:
    resource: grafana-image
    mounts:
      - storage: database
        location: /var/lib/grafana
storage:
  database:
    type: filesystem
requires:
  grafana-source:
    interface: grafana_datasource
  grafana-dashboard:
    interface: grafana_dashboard
  database:
    interface: db
    limit: 1
peers:
  grafana:
    interface: grafana_peers
resources:
  grafana-image:
    type: oci-image
    description: upstream docker image for Grafana
    upstream-source: docker.io/ubuntu/grafana@sha256:86c77082f25b4bce37df37fb1fb1c351477902c59481369b71ba2d328e98d793
  promql-transform-amd64:
    type: file
    description: |
      Promql-transform binary for adding label selectors on amd64. Promql-transform is available
      as a stand-alone tool on https://github.com/canonical/promql-transform
    filename: promql-transform-amd64
  promql-transform-arm64:
    type: file
    description: |
      Promql-transform binary for adding label selectors on arm64. Promql-transform is available
      as a stand-alone tool on https://github.com/canonical/promql-transform
    filename: promql-transform-arm64
